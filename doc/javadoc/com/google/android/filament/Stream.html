<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_192) on Thu Jul 03 11:29:54 CST 2025 -->
<title>Stream</title>
<meta name="date" content="2025-07-03">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Stream";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","所有方法"],2:["t2","实例方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/Stream.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/google/android/filament/Skybox.Builder.html" title="com.google.android.filament中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../com/google/android/filament/Stream.Builder.html" title="com.google.android.filament中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/google/android/filament/Stream.html" target="_top">框架</a></li>
<li><a href="Stream.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.google.android.filament</div>
<h2 title="类 Stream" class="title">类 Stream</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.google.android.filament.Stream</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">Stream</span>
extends java.lang.Object</pre>
<div class="block"><code>Stream</code> is used to attach a native video stream to a filament <a href="../../../../com/google/android/filament/Texture.html" title="com.google.android.filament中的类"><code>Texture</code></a>.

 Stream supports three different configurations:

 <dl>
 <dt>ACQUIRED</dt>     <dd>connects to an Android AHardwareBuffer</dd>
 <dt>NATIVE</dt>       <dd>connects to an Android SurfaceTexture</dd>
 </dl>

 <p>
 Before explaining these different configurations, let's review the high-level structure of an
 AR or video application that uses Filament.
 </p>

 <pre>
 while (true) {

     // Misc application work occurs here, such as:
     // - Writing the image data for a video frame into a Stream
     // - Moving the Filament Camera

     if (renderer.beginFrame(swapChain)) {
         renderer.render(view);
         renderer.endFrame();
     }
 }
 </pre>

 <p>
 Let's say that the video image data at the time of a particular invocation of beginFrame
 becomes visible to users at time A. The 3D scene state (including the camera) at the time of
 that same invocation becomes apparent to users at time B.
 </p>

 <ul>
 <li>If time A matches time B, we say that the stream is <em>synchronized</em>.</li>
 <li>Filament invokes low-level graphics commands on the <em>driver thread</em>.</li>
 <li>The thread that calls beginFrame is called the <em>main thread</em>.</li>
 </ul>

 <p>
 For <b>ACQUIRED</b> streams, there is no need to perform the copy because Filament explictly
 acquires the stream, then releases it later via a callback function. This configuration is
 especially useful when the Vulkan backend is enabled.
 </p>

 <p>
 For <b>NATIVE</b> streams, Filament does not make any synchronization guarantee. However they are
 simple to use and do not incur a copy. These are often appropriate in video applications.
 </p>

 <p>
 Please see <code>sample-stream-test</code> and <code>sample-hello-camera</code> for usage
 examples.
 </p></div>
<dl>
<dt><span class="seeLabel">另请参阅:</span></dt>
<dd><a href="../../../../com/google/android/filament/Texture.html#setExternalStream-com.google.android.filament.Engine-com.google.android.filament.Stream-"><code>Texture.setExternalStream(com.google.android.filament.Engine, com.google.android.filament.Stream)</code></a>, 
<a href="../../../../com/google/android/filament/Engine.html#destroyStream-com.google.android.filament.Stream-"><code>Engine.destroyStream(com.google.android.filament.Stream)</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="嵌套类概要表, 列表嵌套类和解释">
<caption><span>嵌套类</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">类和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/android/filament/Stream.Builder.html" title="com.google.android.filament中的类">Stream.Builder</a></span></code>
<div class="block">Use <code>Builder</code> to construct an Stream object instance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/android/filament/Stream.StreamType.html" title="com.google.android.filament中的枚举">Stream.StreamType</a></span></code>
<div class="block">Represents the immutable stream type.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">实例方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/android/filament/Stream.html#getNativeObject--">getNativeObject</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/google/android/filament/Stream.StreamType.html" title="com.google.android.filament中的枚举">Stream.StreamType</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/android/filament/Stream.html#getStreamType--">getStreamType</a></span>()</code>
<div class="block">Indicates whether this <code>Stream</code> is NATIVE or ACQUIRED.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/android/filament/Stream.html#getTimestamp--">getTimestamp</a></span>()</code>
<div class="block">Returns the presentation time of the currently displayed frame in nanosecond.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/android/filament/Stream.html#setAcquiredImage-java.lang.Object-java.lang.Object-java.lang.Runnable-">setAcquiredImage</a></span>(java.lang.Object&nbsp;hwbuffer,
                java.lang.Object&nbsp;handler,
                java.lang.Runnable&nbsp;callback)</code>
<div class="block">Updates an ACQUIRED stream with an image that is guaranteed to be used in the next frame.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/google/android/filament/Stream.html#setDimensions-int-int-">setDimensions</a></span>(int&nbsp;width,
             int&nbsp;height)</code>
<div class="block">Updates the size of the incoming stream.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="getStreamType--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStreamType</h4>
<pre>public&nbsp;<a href="../../../../com/google/android/filament/Stream.StreamType.html" title="com.google.android.filament中的枚举">Stream.StreamType</a>&nbsp;getStreamType()</pre>
<div class="block">Indicates whether this <code>Stream</code> is NATIVE or ACQUIRED.</div>
</li>
</ul>
<a name="setAcquiredImage-java.lang.Object-java.lang.Object-java.lang.Runnable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAcquiredImage</h4>
<pre>public&nbsp;void&nbsp;setAcquiredImage(java.lang.Object&nbsp;hwbuffer,
                             java.lang.Object&nbsp;handler,
                             java.lang.Runnable&nbsp;callback)</pre>
<div class="block">Updates an <pre>ACQUIRED</pre> stream with an image that is guaranteed to be used in the next frame.

 This method tells Filament to immediately "acquire" the image and trigger a callback
 when it is done with it. This should be called by the user outside of beginFrame / endFrame,
 and should be called only once per frame. If the user pushes images to the same stream
 multiple times in a single frame, only the final image is honored, but all callbacks are
 invoked.

 This method should be called on the same thread that calls <a href="../../../../com/google/android/filament/Renderer.html#beginFrame-com.google.android.filament.SwapChain-long-"><code>Renderer.beginFrame(com.google.android.filament.SwapChain, long)</code></a>, which is
 also where the callback is invoked. This method can only be used for streams that were
 constructed without calling the <code>Builder.stream</code> method.

 See <a href="../../../../com/google/android/filament/Stream.html" title="com.google.android.filament中的类"><code>Stream</code></a> for more information about NATIVE and ACQUIRED configurations.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>hwbuffer</code> - <code>HardwareBuffer</code> (requires API level 26)</dd>
<dd><code>handler</code> - <code>Executor</code> or <code>Handler</code>.</dd>
<dd><code>callback</code> - a callback invoked by <code>handler</code> when the <code>hwbuffer</code> can be released.</dd>
</dl>
</li>
</ul>
<a name="setDimensions-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDimensions</h4>
<pre>public&nbsp;void&nbsp;setDimensions(int&nbsp;width,
                          int&nbsp;height)</pre>
<div class="block">Updates the size of the incoming stream. Whether this value is used is
 stream dependent. On Android, it must be set when using
 <code>Builder#stream(long)</code></div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>width</code> - new width of the incoming stream</dd>
<dd><code>height</code> - new height of the incoming stream</dd>
</dl>
</li>
</ul>
<a name="getTimestamp--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimestamp</h4>
<pre>public&nbsp;long&nbsp;getTimestamp()</pre>
<div class="block">Returns the presentation time of the currently displayed frame in nanosecond.

 This value can change at any time.</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>timestamp in nanosecond.</dd>
</dl>
</li>
</ul>
<a name="getNativeObject--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getNativeObject</h4>
<pre>public&nbsp;long&nbsp;getNativeObject()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/Stream.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/google/android/filament/Skybox.Builder.html" title="com.google.android.filament中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../../com/google/android/filament/Stream.Builder.html" title="com.google.android.filament中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/google/android/filament/Stream.html" target="_top">框架</a></li>
<li><a href="Stream.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
